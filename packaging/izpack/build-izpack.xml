<?xml version="1.0" encoding="iso-8859-1" standalone="yes" ?>

<project name="MeDs Movie Manager IzPack installer" default="makeIzpackInstaller" basedir="">
  <description>
	MeDs Movie Manager IzPack install creator
  </description>

 <!-- create the izpack java installer -->

  <target name="makeIzpackInstaller" 
		  description="Creates the izPack installer.">
	
	
	<taskdef name="izpack" classname="com.izforge.izpack.ant.IzPackTask">
		<classpath refid="izpack.claspath"/>
    </taskdef>


	<izpack input="${izpack.dir}/build-izpack.xml"
			output="${dist}/MovieManager.v.${versionName}.bin.installer.jar"
			installerType="standard" basedir="."
			izpackdir="${izpack.dir}"  >
	


	  <config>
 
		 <![CDATA[ 
    
	<installation version="1.0">
  
   <info>
	  
	  <appname>MeD's Movie Manager</appname>
	  <appversion>@{version}</appversion>
	  
	  <url>http://xmm.sourceforge.net</url>
	  <javaversion>1.5</javaversion>
	  	<requiresjdk>no</requiresjdk>
	  <run-privileged condition="izpack.windowsinstall.vista|izpack.windowsinstall.7"/>
	  </info>

<variables>
<variable name="DesktopShortcutCheckboxEnabled" value="true"/>
</variables>

<native type="izpack" name="ShellLink.dll"/>
<native type="izpack" name="ShellLink_x64.dll"/>
<native type="3rdparty" name="COIOSHelper.dll" stage="both">
  <os family="windows"/>
</native>
	  	
<resources>
    <res src="packaging/izpack/shortcutspec/shortcutSpec.xml" id="shortcutSpec.xml"/>
    <res src="packaging/izpack/shortcutspec/Unix_shortcutSpec.xml" id="Unix_shortcutSpec.xml"/>
</resources>

  <guiprefs height="340" resizable="yes" width="450"/>
  
  
  <locale> 
	<langpack iso3="eng"/>
  </locale>
  
  
  <panels>
	<panel classname="HelloPanel"/>
	<panel classname="TargetPanel"/>
	<panel classname="InstallPanel"/>
	<panel classname="ShortcutPanel"/>
	<panel classname="SimpleFinishPanel"/>
  </panels>
  
  <listeners>
	<listener installer="RegistryInstallerListener"
	  uninstaller="RegistryUninstallerListener" >
	  <os family="windows"/>
	</listener>
  </listeners>

  <packs>
	<pack name="MeD's Movie Manager files" required="yes">
	  <description>MeD's Movie Manager files</description>
	  
	  <!-- Files in root dir (install dir)  -->
	  <fileset targetdir="$INSTALL_PATH/" dir="MovieManager/" 
			   includes="@{mainFiles}">
		
	  </fileset>
	  
	  <!-- config files -->
	  <fileset targetdir="$INSTALL_PATH/config/" 
			   dir="MovieManager/config/" 
			   includes="@{config_file_list}"
			   />
	  
	   <!-- Config file for log4j  -->
	  <fileset dir="dist" targetdir="$INSTALL_PATH/config">
	      <include name="log4j.properties" />
	  </fileset>


	  <fileset targetdir="$INSTALL_PATH/" 
			   dir="" 
			   includes="@{infoFiles}"
			   />
	  
	  <!-- Files in root dir (install dir)  -->
	  <fileset targetdir="$INSTALL_PATH/reports/" 
			   dir="MovieManager/reports/" 
			   includes="@{jasperFiles}"
			   />
	  
	  <!-- libraries -->
	  <fileset targetdir="$INSTALL_PATH/lib/" 
			   dir="MovieManager/lib/" 
			   includes="@{library_file_list}"
			   />
	  
	  
	  <!--html template files-->
	  <fileset targetdir="$INSTALL_PATH/HTML_templates/" 
			   dir="MovieManager/HTML_templates/" 
			   includes="@{template_files}"
			   />
	  
	  
	  
	  <!-- Adding the lookAndFeels.ini file -->
	  <fileset dir="dist" targetdir="$INSTALL_PATH/lib/LookAndFeels">
	      <include name="lookAndFeels.ini" />
	  </fileset>
				  	  
	</pack>
  </packs>
  


</installation>

	  ]]>  

</config>
 

	</izpack>
  </target>

</project>


